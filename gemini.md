# Gemini作業記録 - SQLite GUI Manager (2025/08/18)

## 1. プロジェクトの背景と目的

- **背景**: 40ファイル以上に及ぶ大量のテキストファイル(CSV/TXT)およびExcelファイルを、一括でSQLiteデータベースに格納する必要がある。
- **主目的**: 上記の一括インポート処理を自動化・効率化する。
- **将来的な展望**: インポートロジックの一部を、埋め込み可能なPython (Embeddable-Python) として配布することを想定している。

---

## 2. ツール構成

本プロジェクトは、以下の2種類のスクリプトで構成される。

### インポートツール (コア機能)

- `universal_csv_txt_to_sqlite.py`: テキストベースのファイル用インポーター。
- `universal_excel_to_sqlite.py`: Excelファイル用インポーター。
- `csv_txt_config.json` / `excel_config.json`: 各インポーターの挙動を微調整するための設定ファイル。

### データ検証用GUIツール

- `SQLite_GUI_Manager.py`: インポート結果の検証を支援するためのツール。

---

## 3. GUIツールの具体的な役割

`SQLite_GUI_Manager` は、汎用的なDB管理ツールではなく、インポート結果の検証作業を効率化するために、以下の機能を持つ。

- **個別処理**:
  - テーブル単位でのデータ削除と再格納。
  - テーブル全体のデータ削除とVACUUMによるDB最適化。
- **データ検証**:
  - 日付や数字のみのコードなど、意図したデータ型で格納されているかの確認・修正。
  - 元ファイルとの突合による、格納漏れチェック機能 (結果はCSVに出力)。

---

## 4. 連休前の状況と次のタスク

### 現状 (2025/08/18)

- 各インポートスクリプト (`universal_...`) の基本機能を実装済み。
- GUIツール (`SQLite_GUI_Manager`) は、機能ごとに分割されていたコードの統合が完了し、単一ファイルとして動作する状態になった。

### 次のタスク (最優先)

- `README.md` を、上記の本来の趣旨を反映した内容に更新する。
- GUIツールに、上記の「具体的な役割」でリストアップされた機能を実装・強化する。