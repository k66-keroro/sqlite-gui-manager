# SQLite GUI Manager & Universal Importer

## 1. プロジェクトの背景と目的

### 背景

このプロジェクトは、**40ファイル以上に及ぶ大量のテキストファイル(CSV/TXT)およびExcelファイルを、一括でSQLiteデータベースに格納する**という課題から生まれました。手作業でのインポートは時間がかかり、ミスも発生しやすいため、そのプロセスを自動化・効率化する必要がありました。

### 主目的

- **一括インポートの自動化**: 大量のファイルを単一のコマンドで、迅速かつ正確にSQLiteデータベースへインポートします。
- **データ検証の効率化**: インポートした結果が正しいかどうかを、専用のGUIツールを用いてスムーズに検証します。

### 将来的な展望

インポート処理のコアロジックは、将来的に**埋め込み可能なPython (Embeddable-Python) として配布**し、他のアプリケーションや環境でも容易に利用できるようにすることを想定しています。

## 2. ツール構成

本プロジェクトは、目的別に2種類のスクリプトで構成されています。

### ① インポートツール (コア機能)

- **`universal_csv_txt_to_sqlite.py`**:
  - CSV, TXT, TSVなどのテキストベースのファイルをSQLiteにインポートします。
  - `csv_txt_config.json` を通じて、ファイルごとのエンコーディングや区切り文字といった、細かい挙動を制御できます。
- **`universal_excel_to_sqlite.py`**:
  - Excelファイル（.xlsx, .xls）をSQLiteにインポートします。各シートが個別のテーブルとして扱われます。
  - `excel_config.json` を用いて、ヘッダー行の指定などが可能です。

### ② データ検証用GUIツール

- **`SQLite_GUI_Manager.py`**:
  - インポート結果の検証作業を支援するために特化したGUIツールです。

## 3. GUIツールの具体的な役割

`SQLite_GUI_Manager` は、汎用的なデータベース管理ツールではありません。その目的は、**インポート結果の検証を効率化する**ことに特化しています。

- **個別処理**:
  - **テーブル単位での再インポート**: 特定のテーブルだけを削除し、元ファイルからデータを再格納します。
  - **DBの最適化**: テーブル全体のデータを削除し、`VACUUM`コマンドでデータベースファイルを最適化（圧縮）します。
- **データ検証**:
  - **データ型チェック**: 日付、数値、コードなどが意図したデータ型で正しく格納されているかを確認し、必要に応じて修正を支援します。
  - **格納漏れチェック**: 元ファイルとデータベースを突合し、インポートされなかったデータがないかを確認します。結果はCSVファイルとして出力され、追跡が容易です。

## 4. 次のタスク

- [ ] `README.md` を、上記の本来の趣旨を反映した内容に更新する。 (✓ 実施中)
- [ ] GUIツールに、上記の「具体的な役割」でリストアップされた機能を実装・強化する。